//
//  PostsListWorker.swift
//  Posts
//
//  Created by Santiago Pelaez Rua on 10/9/19.
//  Copyright (c) 2019 Santiago Pelaez Rua. All rights reserved.
//
//  This file was generated by the Clean Swift Xcode Templates so
//  you can apply clean architecture to your iOS and Mac projects,
//  see http://clean-swift.com
//

import UIKit

class PostsListWorker {
    private var posts: [PostsList.Post] = []

    /**
     fetch posts from network or cache when available
     - returns: An array of posts
     */
    func fetchPosts() -> [PostsList.Post] {
        //TODO: finish implementation with network call
        let post = PostsList.Post(userId: "1",
                                  id: "1",
                                  title: "sample post",
                                  body: "lorem ipsum",
                                  isFavorite: false,
                                  isUnread: false)

        let post2 = PostsList.Post(userId: "1",
                                   id: "2",
                                   title: "a test post",
                                   body: "a lorem posting ipsum",
                                   isFavorite: false,
                                   isUnread: false)

        posts = [post, post2]

        return posts
    }

    /**
     delete a single post
     - parameter index: Index for the post to be deleted as Int
     - returns: An array of posts without the deleted post
     */
    func deletePost(at index: Int) -> [PostsList.Post] {
        posts.remove(at: index)

        return posts
    }

    /**
     deletes all posts
     */
    func deleteAllPosts() {
        posts = []
    }
}
